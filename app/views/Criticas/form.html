#{extends 'main.html' /}
#{set title:'Nova Critica' /}

<form class="new-critica" action="@{Criticas.salvar}">
	<h2>Faça sua critica</h2>
	<div class="new-critica">

		<div class="critica">
			<input type="hidden" name="c.id" value="${c?.id}">

			<input type="hidden" name="c.usuario.id" value="session['user']">

			<div class="inputs-critica">
				<div class="input-group mb-3">
					<span class="input-group-text" id="basic-addon1">Game</span>
					<select name="c.game.id" class="form-select" aria-label="Default select example">
						<option selected>Abra este menu de seleção</option>
						#{list items:games, as:'g'}
						<option ${flash['c.critica.id']==g.id.toString() ? 'selected' :''} value="${g.id}" #{if
							c?.game?.id==g.id} selected #{/if}>${g.nome}</option>
						#{error 'g.game' /}
						#{/list}
					</select>
				</div>
			</div>

			<div class="inputs-critica">
				<div class="input-group mb-3">
					<span class="input-group-text" id="basic-addon1">Plataforma</span>
					<select name="c.plataforma" class="form-select" aria-label="Default select example">
						<option selected>Abra este menu de seleção</option>
						<option value="PlayStation">PlayStation</option>
						<option value="Xbox">Xbox</option>
						<option value="Windows">Microsoft Windows</option>
						<option value="Switch">Switch</option>
					</select>
					<span class="error">#{error 'c.plataforma' /}</span>
				</div>
			</div>

			<div class="inputs-critica">
				<div class="input-group mb-3">
					<span class="input-group-text" id="basic-addon2">0-100</span>
					<input type="text" class="form-control" name="c.nota" value="${flash['c.nota']}" placeholder="Nota"
						aria-label="Recipient's username" aria-describedby="basic-addon2">
				</div>
				<span class="error">#{error 'c.nota' /}</span>
			</div>

			<div class="inputs-critica">
				<div class="input-group">
					<span class="input-group-text">Análise</span>
					<textarea name="c.analise" value="${flash['c.analise']}" class="form-control"
						aria-label="With textarea" id="msg" placeholder="Digite sua opinião sobre game"></textarea>
				</div>
				<span class="error">#{error 'c.analise' /}</span>
			</div>

			<div class="inputs-critica">
				<label id="txt-spo" class="form-label">Sua análise contém spoilers?</label>
				<div class="form-check">
					<input value="sim" class="form-check-input" type="radio" name="${flash['c.spoiler']}"
						id="flexRadioDefault1">
					<label class="form-check-label" for="flexRadioDefault1"> Sim </label>
				</div>
			</div>

			<div class="inputs-critica">
				<div class="form-check">
					<input value="nao" class="form-check-input" type="radio" name="c.spoiler" id="flexRadioDefault2"
						checked>
					<label class="form-check-label" for="flexRadioDefault2"> Não </label>
				</div>
				<span class="error">#{error 'c.spoiler' /}</span>
			</div>

			<div id="submit" class="col-12">
				<button class="btn btn-primary" type="submit">Enviar análise</button>
			</div>
		</div>


		<div class="newsCritica">
			<div id="borderNew">
				<div class="imgNews">
					<img src="/public/images/gtaVI-critica.jpg" alt="GTA VI">
				</div>

				<div class="infoNews">
					<a href="https://canaltech.com.br/games/gta-6-5-coisas-que-ja-sabemos-sobre-o-novo-game-da-rockstar-269357/"
						target="_blank">
						<h5>GTA VI | 5 coisas que já sabemos sobre o novo game da Rockstar</h5>
					</a>

					<p>Depois de uma década de espera, a Rockstar Games finalmente confirmou que Grand Theft Auto VI
						realmente existe e está prestes a ser anunciado.</p>
				</div>
			</div>
		</div>

	</div>
</form>